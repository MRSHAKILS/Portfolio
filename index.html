<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shakil Ahmed – Portfolio with 3D Avatar</title>
  <style>
    body { margin:0; overflow-x:hidden; font-family:'Poppins', sans-serif; background:#050507; color:#fff; }
    #hero { position:relative; height:100vh; }
    #avatarCanvas { position:absolute; top:50%; left:50%; width:320px; height:450px; transform:translate(-50%,-50%) scale(1); transition:transform 1s ease; }
    .avatar-left { transform:translate(-20%,-30%) scale(0.5) !important; left:0 !important; top:50% !important; }
    .hero-text { position:absolute; top:60%; right:-100%; transform:translateY(-50%); opacity:0; transition:right 1s ease, opacity 1s ease; max-width:600px; padding:1rem; }
    .hero-text.show { right:5%; opacity:1; }
    .section { opacity:0; transform:translateY(40px); transition:opacity .8s ease, transform .8s ease; padding:4rem 2rem; }
    .section.visible { opacity:1; transform:translateY(0); }
    .nav { position:sticky; top:0; background:rgba(20,20,20,0.5); padding:1rem; backdrop-filter:blur(6px); z-index:10; }
    .nav a { color:#fff; margin-right:1rem; text-decoration:none; }
    canvas { pointer-events:none; }
  </style>
</head>
<body>
  <nav class="nav"><span class="logo">shakillinit</span><a href="#achievements">Achievements</a><a href="#work">Work</a><a href="#contact">Contact</a></nav>
  <div id="hero">
    <canvas id="avatarCanvas"></canvas>
    <div class="hero-text" id="heroText">
      <h1 style="font-size:2.5rem; background:linear-gradient(90deg,#00ffcc,#ff00ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent; animation: gradient 6s infinite;">Hey there! I’m Shakil Ahmed</h1>
      <p>I build modern, futuristic and performant web experiences.</p>
    </div>
  </div>
  <section id="about" class="section"><h2>About Me</h2><p>I'm a passionate fullstack developer ...</p></section>
  <section id="achievements" class="section"><h2>Achievements</h2><p>...</p></section>
  <section id="work" class="section"><h2>Work</h2><p>...</p></section>
  <section id="contact" class="section"><h2>Contact</h2><p>...</p></section>

  <!-- three.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/loaders/GLTFLoader.js"></script>
  <script>
    // three.js setup
    const canvas = document.getElementById('avatarCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(25, canvas.clientWidth/canvas.clientHeight, 0.1, 1000);
    camera.position.set(0,1.6,2.3);
    const light = new THREE.HemisphereLight(0xffffff, 0x444444);
    scene.add(light);
    const dir = new THREE.DirectionalLight(0xffffff, 1);
    dir.position.set(0,4,4);
    scene.add(dir);

    // Load your GLB model (replace with your ReadyPlayerMe URL)
    const loader = new THREE.GLTFLoader();
    loader.load('YOUR_AVATAR_GLB_URL.glb', gltf => {
      const avatar = gltf.scene;
      avatar.scale.set(1.2,1.2,1.2);
      avatar.rotation.y = Math.PI; // face camera
      scene.add(avatar);

      function animate() {
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }
      animate();
    });

    window.addEventListener('scroll', () => {
      const hero = document.getElementById('hero');
      const rect = hero.getBoundingClientRect();
      const trigger = window.innerHeight * 0.3;
      const canvasEl = canvas;
      const heroText = document.getElementById('heroText');
      if (rect.top < trigger) {
        canvasEl.classList.add('avatar-left');
        heroText.classList.add('show');
      } else {
        canvasEl.classList.remove('avatar-left');
        heroText.classList.remove('show');
      }

      document.querySelectorAll('.section').forEach(sec => {
        if (sec.getBoundingClientRect().top < window.innerHeight * 0.85) {
          sec.classList.add('visible');
        }
      });
    });
  </script>
</body>
</html>
