<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Shakil Ahmed Portfolio — 3D Avatar</title>
  <style>
    body { margin:0; overflow-x:hidden; font-family:'Poppins',sans-serif; background:#050507; color:#e6eef8; }
    nav { position:sticky; top:0; backdrop-filter:blur(8px); background:rgba(10,10,10,0.6); padding:1rem 2rem; z-index:10;
          display:flex; justify-content:space-between; align-items:center; }
    nav a { margin-left:1.5rem; color:#e6eef8; position:relative; text-decoration:none; }
    nav a::after { content:''; position:absolute; bottom:-4px; left:0; width:0; height:2px; background:#00ffd0; transition:width .4s ease; }
    nav a:hover::after { width:100%; }
    #hero { position:relative; height:100vh; display:flex; align-items:center; justify-content:center; flex-wrap:wrap; padding:0 1rem; }
    canvas { width:320px; height:450px; transition:transform 1.2s ease; }
    .avatar-left { transform:scale(0.5) translateX(-80%) !important; }
    .hero-text { max-width:500px; opacity:0; transform:translateX(60px); transition:opacity 1.2s ease, transform 1.2s ease; }
    .hero-text.show { opacity:1; transform:translateX(0); }
    .section { opacity:0; transform:translateY(50px); transition:opacity .9s ease, transform .9s ease; padding:4rem 1.5rem; text-align:center; }
    .section.visible { opacity:1; transform:translateY(0); }
    .badge { display:inline-block; padding:.5rem 1rem; border:1px solid #00ffd0; border-radius:20px; margin:.5rem; transition:transform .3s ease, background .3s ease; cursor:default; }
    .badge:hover { transform:scale(1.1); background:rgba(0,255,208,0.1); }
    @media (max-width:768px) {
      .avatar-left { transform:scale(0.7) translateX(-20%) !important; }
      #hero { flex-direction:column; }
      .hero-text { width:100%; text-align:center; transform:none; }
    }
  </style>
</head>
<body>
  <nav>
    <span class="logo">shakillinit</span>
    <div>
      <a href="#achievements">Achievements</a>
      <a href="#work">Work</a>
      <a href="#contact">Contact</a>
    </div>
  </nav>
  <section id="hero">
    <canvas id="avatarCanvas"></canvas>
    <div class="hero-text" id="heroText">
      <h1 style="font-size:2.8rem; background:linear-gradient(90deg,#00ffd0,#c400ff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:grad 6s linear infinite;">Hey there! I’m Shakil Ahmed</h1>
      <p>I build modern, futuristic, and performant web experiences—front-to-back.</p>
    </div>
  </section>
  <section id="about" class="section"><h2>About Me</h2><p>I'm a fullstack developer focused on elegant, scalable, and accessible applications.</p></section>
  <section id="achievements" class="section"><h2>Achievements</h2><p>Certifications, highlights, milestones coming soon.</p></section>
  <section id="work" class="section"><h2>Work</h2><p>Here's a showcase of my projects and contributions.</p></section>
  <section id="skills" class="section"><h2>Languages & Tools</h2>
    <div><span class="badge">JavaScript</span><span class="badge">React</span><span class="badge">Node.js</span><span class="badge">MongoDB</span></div>
  </section>
  <section id="contact" class="section"><h2>Contact</h2><p>Email: your.email@example.com</p></section>

  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/loaders/GLTFLoader.js"></script>
  <script>
    const canvas = document.getElementById('avatarCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha:true, antialias:true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(25, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.set(0, 1.6, 2.4);
    scene.add(new THREE.HemisphereLight(0xffffff, 0x444444));
    const dir = new THREE.DirectionalLight(0xffffff, 0.8); dir.position.set(0,4,4); scene.add(dir);

    let avatar, blinkMesh, blinkTimer = 0;
    const loader = new THREE.GLTFLoader();
    loader.load('https://models.readyplayer.me/68964355ef2ebda3c28e71d3.glb', gltf => {
      avatar = gltf.scene;
      avatar.scale.set(1.2, 1.2, 1.2);
      avatar.rotation.y = Math.PI;
      scene.add(avatar);

      // find mesh with morph target "eyesClosed" for blinking if available
      avatar.traverse(o => {
        if (o.isMesh && o.morphTargetDictionary && o.morphTargetDictionary['EyesClosed']) {
          blinkMesh = o;
        }
      });
    });

    function animate() {
      requestAnimationFrame(animate);
      if (blinkMesh) {
        blinkTimer += 0.02;
        if (blinkTimer > 5 && Math.random() > 0.98) { blinkTimer = 0; }
        const t = (Math.sin(blinkTimer * Math.PI * 2) + 1) / 2;
        blinkMesh.morphTargetInfluences[blinkMesh.morphTargetDictionary['EyesClosed']] = t > 0.6 ? (t - 0.6) * 2.5 : 0;
      }
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('scroll', () => {
      const heroRect = document.getElementById('hero').getBoundingClientRect();
      const trigger = window.innerHeight * 0.3;
      const heroText = document.getElementById('heroText');
      canvas.classList.toggle('avatar-left', heroRect.top < trigger);
      heroText.classList.toggle('show', heroRect.top < trigger);
      document.querySelectorAll('.section').forEach(sec => {
        if (sec.getBoundingClientRect().top < window.innerHeight * 0.8) sec.classList.add('visible');
      });
    });
  </script>
</body>
</html>
